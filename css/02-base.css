/* --- 2. 重置与基本样式 --- */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html, body {
    height: 100%;
    overflow: hidden; /* 防止主滚动条出现 */
}

body {
    font-family: var(--font-family);
    background-color: var(--bg-primary);
    color: var(--text-primary);
    transition: background-color var(--duration) var(--easing), color var(--duration) var(--easing);
    display: flex;
    flex-direction: column;
}

button {
    font-family: inherit;
    cursor: pointer;
    border: none;
    background: none;
    color: inherit;
}

/* 交互基础样式（简约现代） */
.btn, .theme-switcher, .multi-panel-toggle, .nav__view-btn, .add-task-btn, .btn-primary {
    border-radius: var(--radius-m);
    transition: background-color var(--duration) var(--easing), color var(--duration) var(--easing), transform var(--duration) var(--easing), box-shadow var(--duration) var(--easing);
    will-change: transform;
}

.btn:active, .theme-switcher:active, .multi-panel-toggle:active, .nav__view-btn:active, .add-task-btn:active, .btn-primary:active {
    transform: translateY(0.5px) scale(0.99);
}

/* 可访问性：聚焦可见环 */
:focus-visible {
    outline: 2px solid transparent;
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-color) 45%, transparent);
    border-radius: var(--radius-m);
}

/* 降低动画偏好 */
@media (prefers-reduced-motion: reduce) {
    * {
        animation: none !important;
        transition: none !important;
        scroll-behavior: auto !important;
    }
}

/* 主题切换全局过渡（强调黑白变化） */
html.theme-animating :where(
    body,
    .app-header,
    .app-nav,
    .main-content,
    .kanban-board,
    .kanban-column,
    .task-card,
    .subtask-panel,
    .board-toolbar,
    .nav__view-btn,
    .filter-dropdown,
    .stats-view,
    .calendar-view,
    .modal,
    dialog,
    .modal-header,
    .modal-content,
    .selected-file-item,
    .reminder-banner,
    .search-box input,
    .filter-btn,
    .add-task-btn,
    .board-action-btn,
    .theme-switcher,
    .multi-panel-toggle,
    input,
    select,
    textarea
) {
    transition: background-color var(--duration) var(--easing),
                color var(--duration) var(--easing),
                border-color var(--duration) var(--easing),
                box-shadow var(--duration) var(--easing),
                fill var(--duration) var(--easing),
                stroke var(--duration) var(--easing) !important;
}
